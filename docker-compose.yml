cache:
    image: redis:3-alpine
    expose:
        - "6379"
queue:
    image: nats:0.7.2
    expose:
        - "4222"
        - "8222"
nginx:
    image: jgautheron/openresty
    volumes:
        - /data/nginx/nginx.conf:/etc/nginx/nginx.conf:ro
        - /data/nginx/sites-enabled:/etc/nginx/sites-enabled:ro
    ports:
        - "80:80"
        - "443:443"
app:
    image: jgautheron/exago
svc:
    image: jgautheron/exago-service
    links:
        - redis
        - queue
watchtower:
    image: centurylink/watchtower
    command: exago_app exago_svc
    volumes:
        - /var/run/docker.sock:/var/run/docker.sock